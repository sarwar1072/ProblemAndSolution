@model UserProfileModel
@{
    ViewData["Title"] = "AddProfile";
}
<h1>AddProfile</h1>
@* <div class="container py-5">
    <form asp-controller="Account" asp-action="AddProfile" asp-antiforgery="true" method="post" enctype="multipart/form-data">      
        <div class="mb-3">
            <label class="form-label">User Profession</label>
            <input type="text" class="form-control" id="profrssion" asp-for="Profession" />
        </div>
        <div class="mb-3">
            <label class="form-label">User Image</label>
            <input type="file" id="uploadBox" name="formFile" multiple class="form-control" />         
        </div>
        <div class="mb-3">
            <button type="submit" class="btn btn-dark">
                Save
            </button>
        </div>
        <div class="mb-3">
            <a href="@Url.Action("UserprofileDetails", "Home",new{userId=Model.ApplicationUserId})" class="btn btn-primary">
                Back to profile
            </a>
        </div>      
    </form>
</div>
 *@
<div class="container d-flex justify-content-center align-items-center py-5">
    <div class="card shadow-lg p-4 border-0" style="max-width: 500px; width: 100%;">
        <h3 class="text-center text-primary fw-bold mb-4"><i class="bi bi-person-circle"></i> Update Profile</h3>

        <form asp-controller="Account" asp-action="AddProfile" asp-antiforgery="true" method="post" enctype="multipart/form-data">

            <!-- Profession Input -->
            <div class="mb-3">
                <label class="form-label fw-semibold"><i class="bi bi-briefcase"></i> User Profession</label>
                <input type="text" class="form-control rounded-pill shadow-sm" id="profession" asp-for="Profession" placeholder="Enter your profession" />
            </div>

            <!-- Image Upload with Preview -->
            <div class="mb-3 text-center">
                <label class="form-label fw-semibold"><i class="bi bi-image"></i> Upload Profile Image</label>
                <input type="file" id="uploadBox" name="formFile" class="form-control rounded-pill shadow-sm" onchange="previewImage(event)" />
                <div class="mt-3">
                    <img id="preview" src="/images/default-avatar.png" class="img-fluid rounded-circle border shadow"
                         style="width: 100px; height: 100px; object-fit: cover; display: none;" />
                </div>
            </div>

            <!-- Save Button -->
            <div class="mb-3 text-center">
                <button type="submit" class="btn btn-primary w-100 fw-bold rounded-pill">
                    <i class="bi bi-save"></i> Save
                </button>
            </div>

            <!-- Back to Profile Button -->
            <div class="mb-3 text-center">
                <a href="@Url.Action("UserprofileDetails", "Home", new { userId = Model.ApplicationUserId })"
                   class="btn btn-outline-secondary w-100 fw-bold rounded-pill">
                    <i class="bi bi-arrow-left-circle"></i> Back to Profile
                </a>
            </div>
        </form>
    </div>
</div>

<!-- Image Preview Script -->
<script>
    function previewImage(event) {
        var reader = new FileReader();
        reader.onload = function () {
            var output = document.getElementById('preview');
            output.src = reader.result;
            output.style.display = "block";
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>

@section Scripts {
    <!-- jQuery Smart Wizard -->
    <partial name="~/views/shared/_ValidationScriptsPartial.cshtml" />
}
